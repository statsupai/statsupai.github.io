<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Shan Gao">
<meta name="dcterms.date" content="2026-01-27">

<title>Rebuilding Statistics in the Age of AI</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../img/logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-c1fac2584b48ed01fb6e278e36375074.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Rebuilding Statistics in the Age of AI</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Interviews</div>
  </div>
  </div>



<div class="quarto-title-meta column-page">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Shan Gao </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 27, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>





    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rebuilding Statistics for the Age of AI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Times New Roman', serif;
            line-height: 1.8;
            color: #333;
            background: #fafafa;
            min-height: 100vh;
            padding: 0;
        }

        .container {
            width: 100%;
            max-width: none;
            margin: 0;
            background: #ffffff;
            box-shadow: none;
            overflow: hidden;
        }

        .header {
            background: #1a1a1a;
            color: white;
            padding: 20px 50px;
            border-bottom: 2px solid #333;
            text-align: center;
        }

        .header .event-tag {
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #e0e0e0;
            opacity: 0.9;
        }

        .article-info {
            padding: 60px 60px 50px;
            text-align: center;
            border-bottom: 2px solid #ddd;
            background: white;
        }

        .article-title {
            margin-bottom: 35px;
            margin-left: auto;
            margin-right: auto;
        }

        .article-title-link {
            font-family: 'Times New Roman', serif;
            font-size: clamp(1.5rem, 5vw, 2.3rem);
            font-weight: 700;
            color: #1a1a1a;
            line-height: 1.4;
            text-decoration: none;
            border-bottom: 1px dotted rgba(0, 0, 0, 0.25);
            cursor: pointer;
            transition: color 0.2s ease, border-color 0.2s ease;
            display: inline-block;
        }

        .article-title-link:hover {
            color: #333;
            border-bottom-color: #8B0000;
            border-bottom-style: solid;
        }

        .article-title .quote {
            color: #b8860b;
            font-weight: 700;
            position: relative;
            display: inline-block;
            padding: 0 4px;
        }

        .article-title .quote::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, transparent, #d4af37, transparent);
            opacity: 0.4;
            z-index: -1;
        }

        .article-authors {
            font-family: 'Times New Roman', serif;
            font-size: 1.1em;
            color: #444;
            line-height: 2;
            margin-bottom: 25px;
            margin-left: auto;
            margin-right: auto;
        }

        .article-authors .author {
            display: inline;
        }

        .article-authors .author sup {
            font-size: 0.7em;
            vertical-align: super;
            color: #666;
        }

        .article-authors .author.corresponding {
            font-weight: 600;
        }

        .article-date {
            font-family: 'Times New Roman', serif;
            font-size: 1em;
            color: #666;
            margin-top: 20px;
            font-style: italic;
        }

        .content {
            padding: 40px 50px;
        }

        .intro {
            font-size: 1.1em;
            color: #444;
            margin-bottom: 40px;
            line-height: 1.9;
            padding: 0;
        }

        .intro p {
            margin-bottom: 20px;
        }

        .highlight-name {
            color: #1a1a1a;
            font-weight: 700;
            font-style: italic;
        }

        .highlight-keyword {
            color: #555;
            font-weight: 600;
            border-bottom: 2px solid #333;
        }

        .highlight-important {
            color: #1a1a1a;
            font-weight: 700;
            font-size: 1.05em;
        }

        .highlight-event {
            color: #666;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .images-row {
            display: flex;
            gap: 15px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .images-row .article-image {
            flex: 1;
            min-width: 200px;
            margin: 0;
        }

        .images-row .article-image img {
            width: 100%;
            height: auto;
        }

        .article-image {
            width: 100%;
            margin: 30px 0;
            text-align: center;
        }

        .article-image img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
        }

        .article-image .caption {
            font-size: 0.9em;
            color: #666;
            margin-top: 10px;
            font-style: italic;
            padding: 0 20px;
        }

        .strategy-visual {
            margin: 50px 0;
            width: 100%;
            text-align: center;
            padding: 30px;
            background: #fafafa;
            border: 2px solid #ddd;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            position: relative;
        }

        .strategy-visual img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
            border: 1px solid #e0e0e0;
        }

        .shifts-section {
            margin-top: 50px;
        }

        .shifts-title {
            font-size: 1.6em;
            color: #1a1a1a;
            margin-bottom: 30px;
            font-weight: 700;
            padding-bottom: 12px;
            border-bottom: 2px solid #333;
            font-family: 'Times New Roman', serif;
        }

        .shift-item {
            background: white;
            border-left: 3px solid #333;
            padding: 25px 30px;
            margin-bottom: 25px;
            transition: all 0.2s ease;
        }

        .shift-item:hover {
            background: #fafafa;
            border-left-color: #000;
        }

        .shift-number {
            display: inline-block;
            width: 32px;
            height: 32px;
            background: #333;
            color: white;
            border-radius: 0;
            text-align: center;
            line-height: 32px;
            font-weight: bold;
            font-size: 1em;
            margin-right: 15px;
            vertical-align: middle;
        }

        .shift-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 12px;
            display: inline-block;
            vertical-align: middle;
        }

        .shift-description {
            color: #555;
            font-size: 1em;
            line-height: 1.8;
            margin-top: 12px;
            padding-left: 47px;
        }

        .footer {
            background: #ffffff;
            padding: 0;
            border-top: 1px solid #ddd;
        }

        .footer-inner {
            display: flex;
            align-items: center;
            gap: 40px;
            margin: 0;
            padding: 40px 50px;
            flex-wrap: wrap;
        }


        .footer-preview {
            flex: 0 1 420px;              /* 允许变小，但上限仍然是 420 */
            width: min(420px, 100%); 
            flex-shrink: 1;
            max-width: 100%;
            border: 1px solid #ddd;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            background: #fff;
            text-decoration: none;
            transition: box-shadow 0.25s ease, transform 0.25s ease;
        }

        .footer-preview:hover {
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
            transform: translateY(-2px);
        }

        .footer-preview img {
            width: 100%;
            height: auto;
            display: block;
            vertical-align: top;
        }

        .footer-content {
            flex: 1;
        }

        .footer p {
            color: #555;
            font-size: 1em;
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .footer .link-button {
            margin-top: 4px;
        }

        .link-button {
            display: inline-block;
            padding: 12px 30px;
            background: #8B0000;
            color: white;
            text-decoration: none;
            border: 2px solid #8B0000;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .link-button:hover {
            background: white;
            color: #8B0000;
        }

        @media (max-width: 768px) {
            body {
                padding: 0;
            }

            .header {
                padding: 15px 25px;
            }

            .header .event-tag {
                font-size: 0.8em;
            }

            .article-info {
                padding: 40px 25px 30px;
            }

            .article-title {
                font-size: 1.6em;
                margin-bottom: 25px;
            }

            .article-authors {
                font-size: 0.95em;
                line-height: 1.8;
            }

            .article-date {
                font-size: 0.9em;
            }

            .content {
                padding: 30px 25px;
            }

            .shift-item {
                padding: 20px 20px 20px 15px;
            }

            .shift-description {
                padding-left: 0;
                margin-top: 15px;
            }

            .footer-inner {
                flex-direction: column;
                padding: 30px 25px;
                gap: 28px;
            }

            .footer-preview {
                width: 100%;
                max-width: 100%;
            }

            .article-image .caption {
                padding: 0 10px;
            }

            .images-row {
                flex-direction: column;
                gap: 20px;
            }

            .images-row .article-image {
                min-width: 100%;
            }

            .strategy-visual {
                padding: 20px 0;
            }
        }
    </style>


    <div class="container">
        <div class="header">
            <div class="event-tag">JSM 2024 Town Hall</div>
        </div>

        <div class="article-info">
            <div class="article-title">
                <a href="https://arxiv.org/abs/2601.17510" target="_blank" rel="noopener" class="article-title-link">
                    <span class="quote">"Rebuilding"</span> Statistics in the Age of AI: A Town Hall Discussion on Culture, Infrastructure, and Training
                </a>
            </div>
            <div class="article-authors">
                <span class="author">David L. Donoho<sup>¹</sup></span>, 
                <span class="author">Jian Kang<sup>²</sup></span>, 
                <span class="author">Xihong Lin<sup>³</sup></span>, 
                <span class="author">Bhramar Mukherjee<sup>⁴</sup></span>, 
                <span class="author">Dan Nettleton<sup>⁵</sup></span>, 
                <span class="author">Rebecca Nugent<sup>⁶</sup></span>, 
                <span class="author">Abel Rodriguez<sup>⁷</sup></span>, 
                <span class="author">Eric P. Xing<sup>⁸</sup></span>, 
                <span class="author">Tian Zheng<sup>⁹</sup></span>, 
                and <span class="author">Hongtu Zhu<sup>¹⁰</sup>*</span>
            </div>
            <div class="article-date">January 5, 2026</div>
        </div>

        <div class="content">
            <div class="intro">
                <p>
                    Artificial intelligence is no longer a future possibility—it is reshaping how knowledge is produced, validated, and deployed.
                    This raises a difficult question for our field:
                </p>

                <p class="highlight-important">
                    What is the role of statistics when models scale to trillions of parameters,
                    data pipelines become engineering systems,
                    and empirical performance often outpaces theoretical understanding?
                </p>

                <p>
                    At <span class="highlight-event">JSM 2024</span>, a town hall brought together leaders across statistics,
                    biostatistics, and machine learning—including
                    <span class="highlight-name">David L. Donoho</span>,
                    <span class="highlight-name">Jian Kang</span>,
                    <span class="highlight-name">Xihong Lin</span>,
                    <span class="highlight-name">Bhramar Mukherjee</span>,
                    <span class="highlight-name">Dan Nettleton</span>,
                    <span class="highlight-name">Rebecca Nugent</span>,
                    <span class="highlight-name">Abel Rodriguez</span>,
                    <span class="highlight-name">Eric P. Xing</span>,
                    <span class="highlight-name">Tian Zheng</span>,
                    and <span class="highlight-name">Hongtu Zhu</span>—for a rare, candid discussion.
                </p>

                <p>
                    Rather than formal talks or polished conclusions, the session surfaced tensions:
                    rigor versus utility, theory versus systems, methods versus data work,
                    and disciplinary identity versus real-world impact.
                </p>

                <p class="highlight-keyword">
                    This article preserves the full, unfiltered record of that conversation.
                    It is not a manifesto—but a snapshot of a field at a crossroads.
                </p>
            </div>

            <div class="images-row">
                <div class="article-image">
                    <img src="figures/age3.jpg" alt="JSM 2024 Discussion">
                </div>
                <div class="article-image">
                    <img src="figures/age_4.jpg" alt="JSM 2024 Presentation">
                </div>
                <div class="article-image">
                    <img src="figures/age_5.jpg" alt="JSM 2024 Town Hall">
                </div>
            </div>

            <div class="article-image">
                <img src="figures/age_main.jpg" alt="JSM 2024 Town Hall Panel">
            </div>

            <div class="shifts-section">
                <h2 class="shifts-title anchored">Five Strategic Shifts Statistics Can No Longer Avoid</h2>

                <div class="shift-item">
                    <span class="shift-number">1</span>
                    <div class="shift-title">Shift to <span class="highlight-keyword">End-to-End Problem Solving</span></div>
                    <div class="shift-description">
                        Statistical impact can no longer stop at method development.
                        To remain relevant, statisticians must take responsibility for entire systems—from
                        data generation and modeling to deployment, monitoring, and failure modes.
                    </div>
                </div>

                <div class="shift-item">
                    <span class="shift-number">2</span>
                    <div class="shift-title">Elevate the Value of <span class="highlight-important">"Data Work"</span></div>
                    <div class="shift-description">
                        In modern AI systems, data work determines bias, robustness, and credibility.
                        Curation, annotation, and infrastructure are not auxiliary tasks—they are
                        first-class scientific contributions that shape what models can learn.
                    </div>
                </div>

                <div class="shift-item">
                    <span class="shift-number">3</span>
                    <div class="shift-title">Engage with <span class="highlight-important">Empirical Modeling</span></div>
                    <div class="shift-description">
                        Rather than treating large-scale models as external engineering artifacts,
                        statisticians must engage directly with empirical systems such as Transformers—
                        to analyze their behavior, expose failure modes, and improve evaluation and reliability.
                    </div>
                </div>

                <div class="shift-item">
                    <span class="shift-number">4</span>
                    <div class="shift-title">Modernize Training with the <span class="highlight-important">"Three C's"</span></div>
                    <div class="shift-description">
                        Training models designed for small data and isolated analysis is no longer sufficient.
                        Future statisticians must be fluent in communication, collaboration, and computation,
                        working in teams and operating within large, evolving technical ecosystems.
                    </div>
                </div>

                <div class="shift-item">
                    <span class="shift-number">5</span>
                    <div class="shift-title">Articulate <span class="highlight-important">Unique Value</span> to Stakeholders</div>
                    <div class="shift-description">
                        Statistics must actively articulate its value to AI stakeholders.
                        Uncertainty quantification, causal reasoning, and bias analysis are not abstract ideals—
                        they are essential tools for building trustworthy, high-stakes AI systems.
                    </div>
                </div>
            </div>

            <div class="strategy-visual">
                <img src="figures/ageofai_1.jpg" alt="Rebuilding Statistics for the Age of AI - Five Strategic Shifts">
            </div>
        </div>

        <div class="footer">
            <div class="footer-inner">
                <a href="https://arxiv.org/abs/2601.17510" class="footer-preview" target="_blank" rel="noopener">
                    <img src="figures/linkpaper.jpg" alt="arXiv paper preview">
                </a>
                <div class="footer-content">
                    <p>
                        This paper offers a candid look at the challenges and opportunities facing our field. We invite you to read the full transcript and the perspective article to join the conversation (A perspective paper based on this arxiv is under submission).
                    </p>
                    <a href="https://arxiv.org/abs/2601.17510" class="link-button" target="_blank" rel="noopener">Link to the paper</a>
                </div>
            </div>
        </div>
    </div>





</main> <!-- /main -->
<!-- GoatCounter Tracker -->
<script data-goatcounter="https://statsupai.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script>

<!-- Per-Page View Counter (Footer Style) -->
<style>
#goatcounter-footer {
  --gc-counter-color: #2b786bef;
  display: flex; 
  align-items: center; 
  column-gap: 5px;
  color: #8e8e8e; 
  font-size: 13px; 
  font-family: Arial, sans-serif;
}
#goatcounter-footer .statcounter {
  font-family: 'Courier New', monospace; 
  color: var(--gc-counter-color);
  font-weight: bold; 
  margin-left: 3px; 
}
</style>

<!-- GoatCounter Tracker -->
<div id="goatcounter-footer"><span style="margin-left: 3px;">Loading views...</span></div>
<script>
    const path = window.location.pathname;
    console.log('window.location.pathname:', path);
    // If at the root, skip fetching views for now
    if (path.endsWith('index.html') || path.endsWith('/posts/')) {
      
      const display = document.getElementById("goatcounter-footer");
      if (display) {
        display.innerHTML = "";
        console.log("Skipping views for root path:", path);
      }
      
    } else {
      
      // Trim path to remove everything before /quarto_web/site/ for easier local testing
      var trimmedPath = path.replace(/^.*\/posts\//, '\/quarto_web\/site\/posts\/');
      // If the path is exactly /posts/, set trimmedPath to the index.html file
      if (path === '\/posts\/') {
          console.log('Path is exactly /posts/, setting trimmedPath to index.html');
          trimmedPath = '/quarto_web/site/posts/index.html';
      }
      console.log('trimmedPath:', trimmedPath);
      
      // setInterval to check every 100ms because GoatCounter may not be available immediately
      var t = setInterval(function() {
          console.log('Checking for GoatCounter availability...window.goatcounter:', window.goatcounter);
          // Check if GoatCounter is available
          if (window.goatcounter && window.goatcounter.visit_count) {

              // GoatCounter is available, clear the timer
              clearInterval(t)
              // Resolve the counter color to a concrete value
              var footer = document.getElementById('goatcounter-footer');
              var resolvedColor = footer ? getComputedStyle(footer).getPropertyValue('--gc-counter-color').trim() : '';
              console.log('Resolved counter color:', resolvedColor);
              // Update the display with the current visit count
              const display = document.getElementById("goatcounter-footer");
              if (display) {
                display.innerHTML = '<span">Page Views: </span>';
                console.log('display.innerHTML:', display.innerHTML);
              }
              
              
              goatcounter.visit_count({
                no_branding: true,
                path: trimmedPath,
                append: '#goatcounter-footer', 
                style: `
                  body {
                    background: transparent !important;
                  }
                  div { 
                    background: transparent !important;
                    border-width: 0px;
                    border: 0 !important;
                    display: flex;
                  }
                  #gcvc-for {
                    font-size: 0px;
                  }
                  #gcvc-views { 
                      font-family: 'Courier New', monospace; 
                      font-size: 13px;
                      color: ${resolvedColor}; 
                      font-weight: bold; 
                      margin-top: 29px;
                  }`
              })

          }
      }, 100)
      
    }
</script>






<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>